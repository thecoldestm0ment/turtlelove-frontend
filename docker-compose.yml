version: '3.8'

services:
  # Demo 모드 (백엔드 없이 독립 실행)
  demo:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        BUILD_MODE: demo
        VITE_API_URL: mock
        VITE_WS_URL: mock
    container_name: turtlelove-frontend-demo
    restart: unless-stopped
    ports:
      - "3000:8080"

  # 프로덕션 모드 (백엔드 필요)
  # 백엔드가 준비되면 사용
  app:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        BUILD_MODE: production
        VITE_API_URL: /api
        VITE_WS_URL: /ws
    container_name: turtlelove-frontend
    restart: unless-stopped
    ports:
      - "3000:8080"
    profiles:
      - production
